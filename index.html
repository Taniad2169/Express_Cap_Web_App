<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Express Capital Associates Application</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: white;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
        }

        .header-banner {
            background-color: #24345e;
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 8px 8px 0 0;
            margin-bottom: 30px;
        }

        .header-banner h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .header-banner h2 {
            font-size: 1.3em;
            font-weight: normal;
            font-style: italic;
        }

        .page-section {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s ease-in;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #24345e;
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #24345e;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-row.full {
            grid-template-columns: 1fr;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            color: #24345e;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        input[type="text"],
        input[type="tel"],
        input[type="email"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 14px 18px;
            border: 3px solid #24345e;
            background-color: #e1e3e8;
            border-radius: 8px;
            font-size: 1em;
            color: #24345e;
            box-shadow: inset 4px 4px 8px rgba(0,0,0,0.2), 
                        inset -4px -4px 8px rgba(255,255,255,0.7),
                        2px 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #24345e;
            box-shadow: inset 5px 5px 10px rgba(0,0,0,0.25), 
                        inset -5px -5px 10px rgba(255,255,255,0.8),
                        0 0 0 3px rgba(36, 52, 94, 0.15);
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2324345e' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .radio-option label {
            margin: 0;
            cursor: pointer;
        }

        .animated-banner {
            background: linear-gradient(90deg, #ff4444, #ff6b6b, #ff4444);
            background-size: 200% 100%;
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin: 30px 0;
            animation: gradientShift 3s ease infinite;
            border: 3px solid #cc0000;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .animated-banner h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .animated-banner p {
            font-size: 1.1em;
        }

        .pointer {
            font-size: 2em;
            animation: point 1s ease-in-out infinite;
        }

        @keyframes point {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .upload-section {
            padding: 25px;
            background-color: white;
            border: 3px solid #24345e;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .upload-item {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #e1e3e8;
            border-radius: 6px;
            border: 2px solid #24345e;
        }

        .upload-item label {
            display: block;
            margin-bottom: 10px;
        }

        input[type="file"] {
            width: 100%;
            padding: 8px;
            border: 2px solid #24345e;
            border-radius: 4px;
            background-color: white;
            color: #24345e;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .checkbox-container input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            cursor: pointer;
        }

        .checkbox-container label {
            margin: 0;
            font-weight: normal;
            cursor: pointer;
        }

        .disclaimer-text {
            color: #24345e;
            line-height: 1.8;
            font-size: 0.95em;
            margin-bottom: 20px;
            text-align: justify;
            padding: 20px;
            background-color: #e1e3e8;
            border-radius: 8px;
        }

        .acknowledge-checkbox {
            display: flex;
            align-items: flex-start;
            margin: 20px 0;
            padding: 15px;
            background-color: #e1e3e8;
            border-radius: 6px;
            border: 2px solid #24345e;
        }

        .acknowledge-checkbox input[type="checkbox"] {
            width: 22px;
            height: 22px;
            margin-right: 12px;
            cursor: pointer;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .signature-section {
            margin-top: 20px;
            padding: 20px;
            background-color: #e1e3e8;
            border-radius: 6px;
            border: 2px solid #24345e;
        }

        .signature-section h4 {
            color: #24345e;
            margin-bottom: 15px;
        }

        #signaturePad {
            border: 2px solid #24345e;
            background-color: white;
            border-radius: 6px;
            cursor: crosshair;
            display: block;
            width: 100%;
            height: 200px;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }

        button {
            padding: 12px 30px;
            background-color: #24345e;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #1a2644;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .email-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .email-modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            border: 3px solid #24345e;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .email-modal h3 {
            color: #24345e;
            margin-bottom: 20px;
        }

        .email-modal input {
            width: 100%;
            padding: 12px;
            border: 2px solid #24345e;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 1em;
        }

        .email-modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .cancel-btn {
            background-color: #666;
        }

        .success-message {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #4CAF50;
            color: white;
            border-radius: 6px;
            text-align: center;
            font-size: 1.1em;
        }

        .page-indicator {
            text-align: center;
            margin-bottom: 20px;
            color: #24345e;
            font-weight: 600;
        }

        @media print {
            .action-buttons,
            .navigation-buttons,
            button {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-banner">
            <h1>Express Capital Associates</h1>
            <h2>Soaring Above the Competition</h2>
        </div>

        <form id="applicationForm" action="https://formspree.io/f/xjkakgpo" method="POST">
            
            <div class="page-section active" id="page1">
                <div class="page-indicator">Page 1 of 6</div>
                <h2 class="section-title">BUSINESS INFORMATION</h2>

                <div class="form-group">
                    <label for="todayDate">Today's Date *</label>
                    <input type="date" id="todayDate" name="today_date" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="legalName">Legal Corporate Name *</label>
                        <input type="text" id="legalName" name="legal_name" required>
                    </div>
                    <div class="form-group">
                        <label for="dbaName">DBA (Doing Business As) *</label>
                        <input type="text" id="dbaName" name="dba_name" required>
                    </div>
                </div>

                <div class="form-row full">
                    <div class="form-group">
                        <label for="physicalAddress">Physical Address *</label>
                        <input type="text" id="physicalAddress" name="physical_address" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="city">City *</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div class="form-group">
                        <label for="state">State *</label>
                        <select id="state" name="state" required>
                            <option value="">Select State</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="zip">Zip *</label>
                        <input type="text" id="zip" name="zip" required>
                    </div>
                    <div class="form-group">
                        <label for="businessPhone">Telephone Number *</label>
                        <input type="tel" id="businessPhone" name="business_phone" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="federalTaxId">Federal Tax ID *</label>
                        <input type="text" id="federalTaxId" name="federal_tax_id" required>
                    </div>
                    <div class="form-group">
                        <label for="dateStarted">Date Business Started *</label>
                        <input type="date" id="dateStarted" name="date_started" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Do you have a website? *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="websiteYes" name="has_website" value="yes" required>
                            <label for="websiteYes">Yes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="websiteNo" name="has_website" value="no">
                            <label for="websiteNo">No</label>
                        </div>
                    </div>
                </div>

                <div class="form-row full">
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="entityType">Type of Entity *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="corporation" name="entity_type" value="corporation" required>
                            <label for="corporation">Corporation</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="llc" name="entity_type" value="llc">
                            <label for="llc">LLC</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="partnership" name="entity_type" value="partnership">
                            <label for="partnership">Partnership</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="soleProprietor" name="entity_type" value="sole_proprietor">
                            <label for="soleProprietor">Sole Proprietor</label>
                        </div>
                    </div>
                </div>

                <div class="form-row full">
                    <div class="form-group">
                        <label for="industryType">Industry Type *</label>
                        <select id="industryType" name="industry_type" required>
                            <option value="">Select a business type</option>
                            <option value="accounting">Accounting Services</option>
                            <option value="auto_repair">Auto Repair & Services</option>
                            <option value="bar_nightclub">Bar/Nightclub</option>
                            <option value="beauty_salon">Beauty Salon/Barber Shop</option>
                            <option value="chiropractor">Chiropractor</option>
                            <option value="construction">Construction</option>
                            <option value="consulting">Consulting Services</option>
                            <option value="dental">Dental Practice</option>
                            <option value="ecommerce">E-Commerce/Online Retail</option>
                            <option value="fitness">Fitness Center/Gym</option>
                            <option value="healthcare">Healthcare Services</option>
                            <option value="hotel">Hotel/Hospitality</option>
                            <option value="hvac">HVAC Services</option>
                            <option value="insurance">Insurance Agency</option>
                            <option value="landscaping">Landscaping</option>
                            <option value="law_firm">Law Firm/Legal Services</option>
                            <option value="logistics">Logistics/Trucking</option>
                            <option value="manufacturing">Manufacturing</option>
                            <option value="marketing">Marketing Agency</option>
                            <option value="medical">Medical Practice</option>
                            <option value="plumbing">Plumbing Services</option>
                            <option value="real_estate">Real Estate</option>
                            <option value="restaurant">Restaurant/Food Service</option>
                            <option value="retail">Retail Store</option>
                            <option value="roofing">Roofing</option>
                            <option value="spa">Spa/Wellness Center</option>
                            <option value="technology">Technology/IT Services</option>
                            <option value="veterinary">Veterinary Services</option>
                            <option value="wholesale">Wholesale/Distribution</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-row full">
                    <div class="form-group">
                        <label for="additionalNotes">Additional Notes</label>
                        <textarea id="additionalNotes" name="additional_notes" placeholder="Please add any additional information or comments here."></textarea>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <div></div>
                    <button type="button" onclick="nextPage(2)">Next Page ‚Üí</button>
                </div>
            </div>

            <div class="page-section" id="page2">
                <div class="page-indicator">Page 2 of 6</div>
                <h2 class="section-title">FUNDING INFORMATION</h2>

                <div class="form-row">
                    <div class="form-group">
                        <label for="monthlyRevenue">Monthly Gross Revenue (Avg.) *</label>
                        <input type="text" id="monthlyRevenue" name="monthly_revenue" placeholder="$" required>
                    </div>
                    <div class="form-group">
                        <label for="fundingAmount">Funding Amount Request *</label>
                        <input type="text" id="fundingAmount" name="funding_amount" placeholder="$" required>
                    </div>
                </div>

                <div class="form-row full">
                    <div class="form-group">
                        <label for="fundingReason">Primary reason for seeking funding *</label>
                        <select id="fundingReason" name="funding_reason" required>
                            <option value="">Select a reason</option>
                            <option value="inventory">Inventory Purchase</option>
                            <option value="equipment">Equipment Purchase</option>
                            <option value="expansion">Business Expansion</option>
                            <option value="payroll">Payroll</option>
                            <option value="marketing">Marketing/Advertising</option>
                            <option value="renovation">Renovation/Remodeling</option>
                            <option value="emergency">Emergency Funds</option>
                            <option value="debt_consolidation">Debt Consolidation</option>
                            <option value="seasonal">Seasonal Cash Flow</option>
                            <option value="working_capital">Working Capital</option>
                            <option value="real_estate">Real Estate Purchase</option>
                            <option value="technology">Technology Upgrade</option>
                            <option value="hiring">Hiring New Employees</option>
                            <option value="franchise">Franchise Fee</option>
                            <option value="refinance">Refinance Existing Debt</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button type="button" onclick="prevPage(1)">‚Üê Previous</button>
                    <button type="button" onclick="nextPage(3)">Next Page ‚Üí</button>
                </div>
            </div>

            <div class="page-section" id="page3">
                <div class="page-indicator">Page 3 of 6</div>
                <h2 class="section-title">MERCHANT/OWNER INFORMATION</h2>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ownerName">Corporate Officer/Owner Name *</label>
                        <input type="text" id="ownerName" name="owner_name" required>
                    </div>
                    <div class="form-group">
                        <label for="ownerTitle">Title *</label>
                        <input type="text" id="ownerTitle" name="owner_title" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ownershipPercentage">Ownership Percentage *</label>
                        <input type="number" id="ownershipPercentage" name="ownership_percentage" min="0" max="100" required>
                    </div>
                    <div class="form-group">
                        <label for="homeAddress">Home Address *</label>
                        <input type="text" id="homeAddress" name="home_address" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ownerCity">City *</label>
                        <input type="text" id="ownerCity" name="owner_city" required>
                    </div>
                    <div class="form-group">
                        <label for="ownerState">State *</label>
                        <select id="ownerState" name="owner_state" required>
                            <option value="">Select State</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ownerZip">Zip *</label>
                        <input type="text" id="ownerZip" name="owner_zip" required>
                    </div>
                    <div class="form-group">
                        <label for="ssn">Social Security Number (SSN) *</label>
                        <input type="text" id="ssn" name="ssn" placeholder="XXX-XX-XXXX" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="dob">Date of Birth *</label>
                        <input type="date" id="dob" name="dob" required>
                    </div>
                    <div class="form-group">
                        <label for="ficoScore">FICO Score *</label>
                        <input type="text" id="ficoScore" name="fico_score" required>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button type="button" onclick="prevPage(2)">‚Üê Previous</button>
                    <button type="button" onclick="nextPage(4)">Next Page ‚Üí</button>
                </div>
            </div>

            <div class="page-section" id="page4">
                <div class="page-indicator">Page 4 of 6</div>
                <h2 class="section-title">FINANCIAL & BANKING INFORMATION</h2>

                <div class="animated-banner">
                    <h3><span class="pointer">üëá</span> IMPORTANT: Upload Bank Statements First <span class="pointer">üëá</span></h3>
                    <p>To give you the best offer, we need 3 months of recent business bank statements.</p>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="bankName">Primary Bank Name *</label>
                        <input type="text" id="bankName" name="bank_name" required>
                    </div>
                    <div class="form-group">
                        <label for="accountHolder">Account Holder Name *</label>
                        <input type="text" id="accountHolder" name="account_holder" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="routingNumber">Routing Number *</label>
                        <input type="text" id="routingNumber" name="routing_number" required>
                    </div>
                    <div class="form-group">
                        <label for="accountNumber">Account Number *</label>
                        <input type="text" id="accountNumber" name="account_number" required>
                    </div>
                </div>

                <div class="form-row full">
                    <div class="form-group">
                        <label for="otherDebt">Total Amount of Existing Business Debt/Advances (if any)</label>
                        <input type="text" id="otherDebt" name="other_debt" placeholder="$">
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button type="button" onclick="prevPage(3)">‚Üê Previous</button>
                    <button type="button" onclick="nextPage(5)">Next Page ‚Üí</button>
                </div>
            </div>

            <div class="page-section" id="page5">
                <div class="page-indicator">Page 5 of 6</div>
                <h2 class="section-title">REQUIRED DOCUMENTS (UPLOAD)</h2>
                <p style="margin-bottom: 25px; color: #cc0000; font-weight: bold;">Maximum file size is 10MB per file. Please upload PDF or image files (JPG, PNG).</p>

                <div class="upload-section">
                    <div class="upload-item">
                        <label for="bankStatement1">1. Recent Month Business Bank Statement *</label>
                        <input type="file" id="bankStatement1" name="bank_statement_1" accept=".pdf, .jpg, .jpeg, .png" required>
                    </div>
                    <div class="upload-item">
                        <label for="bankStatement2">2. Previous Month Business Bank Statement *</label>
                        <input type="file" id="bankStatement2" name="bank_statement_2" accept=".pdf, .jpg, .jpeg, .png" required>
                    </div>
                    <div class="upload-item">
                        <label for="bankStatement3">3. 2 Months Ago Business Bank Statement *</label>
                        <input type="file" id="bankStatement3" name="bank_statement_3" accept=".pdf, .jpg, .jpeg, .png" required>
                    </div>
                </div>

                <div class="upload-section">
                    <p style="color: #24345e; font-weight: bold; margin-bottom: 15px;">Optional Documents (May speed up approval):</p>
                    <div class="upload-item">
                        <label for="voidedCheck">4. Voided Business Check</label>
                        <input type="file" id="voidedCheck" name="voided_check" accept=".pdf, .jpg, .jpeg, .png">
                    </div>
                    <div class="upload-item">
                        <label for="driversLicense">5. Owner's Driver's License</label>
                        <input type="file" id="driversLicense" name="drivers_license" accept=".pdf, .jpg, .jpeg, .png">
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button type="button" onclick="prevPage(4)">‚Üê Previous</button>
                    <button type="button" onclick="nextPage(6)">Next Page ‚Üí</button>
                </div>
            </div>

            <div class="page-section" id="page6">
                <div class="page-indicator">Page 6 of 6</div>
                <h2 class="section-title">AUTHORIZATION & SIGNATURE</h2>

                <div class="disclaimer-text">
                    **AUTHORIZATION AGREEMENT:** I (We), the undersigned, as the owner/officer of the applicant business, hereby authorize Express Capital Associates and its agents, successors, or assigns (collectively, "Lender") to contact, obtain, and share any and all information about the Applicant and its Owners, including but not limited to, credit reports, credit history, account balances, and any other financial information from any source, including banks, creditors, and credit bureaus. This authorization extends to multiple inquiries over time for the purpose of pre-qualification, application review, credit decision, and any future maintenance or collection. I (We) authorize the release of such information to the Lender and agree that a copy of this authorization shall be as valid as the original. I (We) certify that all information contained in this Application is true and complete.
                </div>

                <div class="acknowledge-checkbox">
                    <input type="checkbox" id="acknowledge" required>
                    <label for="acknowledge">I have read, understand, and agree to the Authorization Agreement above. *</label>
                </div>

                <div class="signature-section">
                    <h4>Owner/Officer Electronic Signature *</h4>
                    <canvas id="signaturePad"></canvas>
                    <input type="hidden" id="signatureData" name="signature_data">
                    <div class="action-buttons">
                        <button type="button" id="clearSignatureBtn" class="cancel-btn">Clear Signature</button>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button type="button" onclick="prevPage(5)">‚Üê Previous</button>
                    <button type="submit" id="submitButton" disabled>Submit Application</button>
                </div>

            </div>
        </form>

        <div class="success-message" id="successMessage">
            Application Submitted Successfully! We will be in touch shortly.
        </div>
    </div>

    <div class="email-modal" id="emailModal">
        <div class="email-modal-content">
            <h3>Confirm Submission Email</h3>
            <p>Please confirm or enter the best email to send your application details to:</p>
            <input type="email" id="confirmEmailInput" required>
            <div class="email-modal-buttons">
                <button type="button" class="cancel-btn" onclick="closeEmailModal()">Cancel</button>
                <button type="button" onclick="handleFormSubmission()">Send & Submit</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>

    <script>
        const form = document.getElementById('applicationForm');
        const pages = document.querySelectorAll('.page-section');
        const submitButton = document.getElementById('submitButton');
        const acknowledgeCheckbox = document.getElementById('acknowledge');
        const emailModal = document.getElementById('emailModal');
        const confirmEmailInput = document.getElementById('confirmEmailInput');

        let currentPage = 1;

        // --- Signature Pad Setup ---
        const canvas = document.getElementById('signaturePad');
        // Check if canvas is available before initializing SignaturePad
        let signaturePad;
        if (canvas) {
            signaturePad = new SignaturePad(canvas);
        }
        
        const clearSignatureBtn = document.getElementById('clearSignatureBtn');
        const signatureDataInput = document.getElementById('signatureData');

        function resizeCanvas() {
            if (!canvas) return;
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            canvas.width = canvas.offsetWidth * ratio;
            canvas.height = canvas.offsetHeight * ratio;
            canvas.getContext('2d').scale(ratio, ratio);
            signaturePad.clear(); // Important: clears the signature on resize
        }

        window.addEventListener('resize', resizeCanvas);
        // Only run if signaturePad was successfully initialized
        if (signaturePad) {
            resizeCanvas(); // Initial call to set canvas size
            
            clearSignatureBtn.addEventListener('click', function () {
                signaturePad.clear();
                updateSubmitButtonState();
            });

            signaturePad.addEventListener("endStroke", updateSubmitButtonState);
        }

        function updateSubmitButtonState() {
            const isSigned = signaturePad ? !signaturePad.isEmpty() : false;
            const isAcknowledged = acknowledgeCheckbox.checked;

            if (currentPage === 6) {
                submitButton.disabled = !(isSigned && isAcknowledged);
            }
        }

        acknowledgeCheckbox.addEventListener('change', updateSubmitButtonState);


        // --- Page Navigation and Validation ---

        function showPage(pageNumber) {
            pages.forEach((page, index) => {
                page.classList.remove('active');
                if (index === pageNumber - 1) {
                    page.classList.add('active');
                    currentPage = pageNumber;
                    
                    if (pageNumber === 6) {
                        updateSubmitButtonState();
                        // Re-size the canvas when the signature page becomes visible
                        resizeCanvas();
                    }
                }
            });
            // Scroll to the top of the container
            document.querySelector('.container').scrollIntoView({ behavior: 'smooth' });
        }

        function validatePage(pageNumber) {
            const page = document.getElementById(`page${pageNumber}`);
            const requiredInputs = page.querySelectorAll('[required]');
            let allValid = true;

            requiredInputs.forEach(input => {
                // Check if the input is one of a radio group and if one is checked
                if (input.type === 'radio') {
                    const radioGroupName = input.name;
                    if (!page.querySelector(`input[name="${radioGroupName}"]:checked`)) {
                        allValid = false;
                        // For radios, we'll mark the first radio label/parent div
                        const radioGroup = input.closest('.form-group') || input.closest('.radio-group');
                        if (radioGroup) {
                            radioGroup.style.border = '2px solid #cc0000';
                            radioGroup.style.borderRadius = '5px';
                        }
                    } else {
                        const radioGroup = input.closest('.form-group') || input.closest('.radio-group');
                        if (radioGroup) {
                            radioGroup.style.border = 'none';
                        }
                    }
                } 
                // Simple check for other required fields
                else if (!input.value.trim() || (input.type === 'file' && input.files.length === 0)) {
                    allValid = false;
                    input.style.borderColor = '#cc0000'; 
                } else {
                    input.style.borderColor = '#24345e';
                }
            });

            return allValid;
        }

        // Global functions for button clicks
        window.nextPage = function(nextPageNumber) {
            if (validatePage(currentPage)) {
                showPage(nextPageNumber);
            } else {
                alert('Please fill out all required fields (*) before proceeding.');
            }
        }

        window.prevPage = function(prevPageNumber) {
            showPage(prevPageNumber);
        }

        // --- Form Submission and Email Modal ---

        function openEmailModal() {
            // Pre-fill email from Page 1
            const businessEmail = document.getElementById('email').value;
            confirmEmailInput.value = businessEmail;
            emailModal.style.display = 'flex';
        }

        window.closeEmailModal = function() {
            emailModal.style.display = 'none';
        }

        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Stop the default submission
            
            // Final check for page 6
            if (!validatePage(6) || signaturePad.isEmpty() || !acknowledgeCheckbox.checked) {
                alert('Please complete all required fields, acknowledge the authorization, and provide a signature.');
                return;
            }

            // Convert signature to data URL and set the hidden input value
            const dataURL = signaturePad.toDataURL("image/png");
            signatureDataInput.value = dataURL;

            // Show the confirmation modal
            openEmailModal();
        });

        window.handleFormSubmission = function() {
            const finalEmail = confirmEmailInput.value;
            if (!finalEmail || !finalEmail.includes('@')) {
                alert('Please enter a valid email address.');
                return;
            }

            // Set the final email as a hidden field for Formspree to use as a reply-to address
            let emailField = form.querySelector('input[name="_replyto"]');
            if (!emailField) {
                emailField = document.createElement('input');
                emailField.type = 'hidden';
                emailField.name = '_replyto';
                form.appendChild(emailField);
            }
            emailField.value = finalEmail;

            // Close modal and prepare for submission
            closeEmailModal();
            
            // Use an AJAX-like submission to handle the file uploads and display success message
            const formData = new FormData(form);
            
            // Display a submitting message
            submitButton.textContent = 'Submitting...';
            submitButton.disabled = true;

            fetch(form.action, {
                method: 'POST',
                body: formData,
                // Formspree requires no Content-Type header when submitting FormData with files
            })
            .then(response => {
                if (response.ok) {
                    // Success
                    form.style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    const pageIndicator = document.querySelector('.page-indicator');
                    if (pageIndicator) pageIndicator.style.display = 'none';
                } else {
                    // Failure (e.g., Formspree error)
                    alert('There was an error submitting your application. Please try again or contact us directly.');
                    submitButton.textContent = 'Submit Application';
                    submitButton.disabled = false;
                }
            })
            .catch(error => {
                console.error('Submission error:', error);
                alert('Network error. Please check your connection and try again.');
                submitButton.textContent = 'Submit Application';
                submitButton.disabled = false;
            });
        }

    </script>
</body>
</html>
